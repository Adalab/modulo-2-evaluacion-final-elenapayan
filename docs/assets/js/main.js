"use strict"; const btn = document.querySelector(".js-btn"), input = document.querySelector(".js-input"), ulList = document.querySelector(".js-right-list"), ulFavorites = document.querySelector(".js-left-list"); let favoriteIdList = [], favoriteList = [], list = ""; function getMovies() { fetch(`http://api.tvmaze.com/search/shows?q=${input.value}`).then(function (t) { return t.json() }).then(function (t) { paintMovies(t), activateToggle() }) } function paintMovies(t) { list = "", ulList.innerHTML = ""; for (let e = 0; e < t.length; e++)null === t[e].show.image && (t[e].show.image = { medium: "http://via.placeholder.com/210x295" }), list += `<li class="list-container js-content" id="${t[e].show.id}">`, list += `<img class="js-image" src="${t[e].show.image.medium}" alt="Foto ${t[e].show.name}"/>`, list += `<h4 class="title">${t[e].show.name}</h4>`, list += "</li>"; ulList.innerHTML += list } function getResults(t) { t.preventDefault(), getMovies() } function activateToggle() { const t = document.querySelectorAll(".js-content"); for (let e = 0; e < t.length; e++)t[e].addEventListener("click", toggleClass) } function toggleClass(t) { t.currentTarget.classList.toggle("change-color"); let e = t.currentTarget.innerHTML; favoriteIdList.includes(t.currentTarget.id) || (ulFavorites.innerHTML += e, favoriteIdList.push(t.currentTarget.id)) } btn.addEventListener("click", getResults);
